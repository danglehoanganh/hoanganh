<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Há»‡ thá»‘ng quáº£n lÃ½ sinh viÃªn</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>ğŸ“ Há»‡ thá»‘ng quáº£n lÃ½ sinh viÃªn</h1>
        <div class="buttons">
            <button onclick="loadChart('major')">1. PhÃ¢n bá»‘ ngÃ nh há»c</button>
            <button onclick="loadChart('performance')">2. ThÃ nh tÃ­ch há»c táº­p</button>
            <button onclick="loadChart('region')">3. PhÃ¢n bá»‘ khu vá»±c</button>
            <button onclick="loadChart('activities')">4. Hoáº¡t Ä‘á»™ng ngoáº¡i khÃ³a</button>
            <button onclick="loadChart('scholarship')">5. Há»c bá»•ng</button>
        </div>
        <div id="chart">
            <p>Chá»n biá»ƒu Ä‘á»“ Ä‘á»ƒ hiá»ƒn thá»‹.</p>
        </div>

        <h2>ğŸ“‹ Danh sÃ¡ch sinh viÃªn tá»« MongoDB</h2>
        <ul id="studentList"></ul>
    </div>

    <script>
        function loadChart(type) {
            const chart = document.getElementById('chart');
            chart.innerHTML = `<p>Äang táº£i...</p><img src="/generate/${type}" onload="this.previousSibling.remove()" alt="Biá»ƒu Ä‘á»“">`;
        }

        async function loadStudents() {
            const res = await fetch("/students");
            const students = await res.json();
            const list = document.getElementById("studentList");
            list.innerHTML = "";
            students.forEach(s => {
                const li = document.createElement("li");
                li.textContent = `${s.name} | NgÃ nh: ${s.major} | GPA: ${s.gpa}`;
                list.appendChild(li);
            });
        }

        loadStudents();
    </script>
</body>
</html>
